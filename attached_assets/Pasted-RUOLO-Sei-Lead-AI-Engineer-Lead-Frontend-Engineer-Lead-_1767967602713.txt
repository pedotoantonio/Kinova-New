RUOLO
Sei Lead AI Engineer + Lead Frontend Engineer + Lead Backend Engineer + QA Engineer.
Devi implementare l‚ÄôAssistente AI di Kinova come:
- assistente professionale
- contestuale
- operativo
- sicuro
- con UX stile ChatGPT
Expo √® il banco di test ufficiale.

REGOLE NON NEGOZIABILI (ASSOLUTE)
1) L‚Äôassistente PU√í inserire / modificare / cancellare dati REALI dell‚Äôapp.
2) L‚Äôassistente NON PU√í MAI farlo senza conferma esplicita dell‚Äôutente (two-step commit).
3) L‚Äôassistente DEVE conoscere la situazione dell‚Äôutente (context reale).
4) L‚Äôassistente DEVE proporre soluzioni, alternative e ottimizzazioni.
5) Nessun mock, nessun fake, nessuna azione silenziosa.
6) Multilingua IT/EN (default IT).
7) Output SOLO nel formato richiesto.

OBIETTIVO DEL GATE 6
Rendere l‚ÄôAssistente AI:
- il punto centrale di Kinova
- capace di gestire TUTTE le funzionalit√† dell‚Äôapp
- capace di analizzare documenti e immagini
- capace di guidare l‚Äôutente passo-passo
- indistinguibile (per UX) da ChatGPT, ma con azioni reali sull‚Äôapp

---

## SCOPE FUNZIONALE (CORE ASSOLUTO)

### A) CHAT UX STILE CHATGPT
Implementare:
- messaggi user/assistant
- streaming token-by-token
- pulsante ‚ÄúStop‚Äù
- ‚ÄúRigenera risposta‚Äù
- menu messaggio (copy, select, retry)
- scroll intelligente
- suggestion chips contestuali
- typing indicator
- error/retry state

Test:
A6.1 Chat fluida, streaming corretto

---

### B) INPUT MULTIMODALE (ALLEGATI)
Supportare:
- testo
- üì∑ foto (camera)
- üñºÔ∏è immagini (galleria)
- üìÑ documenti (PDF, DOC, TXT, CSV)

UX:
- preview allegati
- stato upload (uploading / analyzing / ready / error)
- retry

Test:
A6.2 Allegato caricato e visualizzato correttamente

---

### C) ANALISI DOCUMENTI & IMMAGINI (CORE FEATURE)
Implementare pipeline:
1) Upload
2) Analisi (parsing / OCR)
3) Estrazione dati strutturati
4) Proposta azioni

L‚ÄôAI deve:
- spiegare cosa ha capito
- mostrare i dati estratti
- proporre azioni pertinenti

Esempi obbligatori:
- scontrino/fattura ‚Üí spesa
- multa ‚Üí spesa + evento + task
- documento scuola ‚Üí evento + task
- file ambiguo ‚Üí proporre alternative

Test:
A6.3 Documento analizzato ‚Üí proposta azione corretta

---

### D) ACTION FRAMEWORK (OPERAZIONI REALI)
Definire azioni standard:
- CREATE / UPDATE / DELETE:
  - Event
  - Task
  - ShoppingItem
  - Expense
- INVITE / CHANGE_ROLE (admin only)

Flusso obbligatorio:
- proposta ‚Üí riepilogo ‚Üí conferma ‚Üí API ‚Üí risultato

Test:
A6.4 Azione proposta ‚Üí conferma ‚Üí DB aggiornato

---

### E) TWO-STEP COMMIT (OBBLIGATORIO)
Ogni azione deve:
1) mostrare riepilogo modifiche
2) chiedere conferma esplicita
3) eseguire solo dopo conferma

Test:
A6.5 Nessuna modifica senza conferma

---

### F) CONOSCENZA CONTESTUALE
L‚ÄôAI riceve SEMPRE:
- eventi oggi / prossimi
- task pendenti / scaduti
- spesa mese
- meteo attuale
- membri famiglia
- ruolo utente
- lingua

Test:
A6.6 AI fa riferimento corretto al contesto

---

### G) RUOLI & SICUREZZA
- admin: tutto
- member: operazioni standard
- child: suggerimenti + visualizzazione

Test:
A6.7 Ruolo child ‚Üí azioni bloccate

---

### H) MULTILINGUA
- IT default
- EN supportato
- lingua coerente in chat, bottoni, azioni

Test:
A6.8 Cambio lingua ‚Üí AI risponde correttamente

---

### I) ERRORI & FALLBACK
- upload fallito
- analisi fallita
- API fallita

UX:
- spiegazione chiara
- retry

Test:
A6.9 Error handling corretto

---

### J) AUDIT & LOGGING
- log azioni AI
- chi ha confermato cosa
- timestamp

---

## OUTPUT OBBLIGATORIO (FORMATO RIGIDO)

1) GATE 6 STATUS
- Stato: PASS / FAIL
- Bloccanti

2) MATRICE FUNZIONALIT√Ä AI
[Test-ID] [Feature] [Esito PASS/FAIL]

3) REPORT TEST DETTAGLIATO
Per A6.1 ‚Äì A6.9:
- Steps
- Evidenza UI
- Evidenza API
- Evidenza DB
- Esito

4) SECURITY CHECK
- Conferma obbligatoria: SI/NO
- Ruoli rispettati: SI/NO
- Nessuna azione silenziosa: SI/NO

5) MULTILINGUA CHECK
- IT OK
- EN OK

6) VERDETTO FINALE
Scrivi ESATTAMENTE una sola riga:
- ‚ÄúGATE 6 COMPLETATO: PASS‚Äù
oppure
- ‚ÄúGATE 6 COMPLETATO: FAIL‚Äù

STOP
Non scrivere altro.
